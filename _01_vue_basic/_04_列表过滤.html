<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>ğŸ˜…ğŸ˜…</title>
</head>
<script src="vue/vue.js"></script>
<body>
<div id="root">
    <h1>äººå‘˜åˆ—è¡¨</h1>
    <h1>æ’åº</h1>
    <button @click="sortType=0">åŸåº</button>
    <button @click="sortType=1">é™åº</button>
    <button @click="sortType=2">å‡åº</button>
    <input type="text" name="keyword" v-model:value="keyword" placeholder="è¯·è¾“å…¥äººå‘˜åå­—è¿›è¡ŒæŸ¥è¯¢ğŸ˜…ğŸ˜…"><br>
    <ul>
        <li v-for="(item,index) in filterAnimes" :key="index">{{item.name}}-{{item.time}}-{{item.c01}}</li>
    </ul>
</div>
<script type="text/javascript">
    new Vue({
        'el': '#root',
        'data': {
            'keyword': '',
            'sortType': '0',
            'animes': [
                {'name': 'ç½ªæ¶ç‹å† ', 'time': '2011', 'c01': 'æ¥ªç¥ˆ'},
                {'name': 'æˆ‘çš„é’æ˜¥æ‹çˆ±ç‰©è¯­æœç„¶æœ‰é—®é¢˜', 'time': '2013', 'c01': 'é›ªä¹ƒ'},
                {'name': 'æ–©èµ¤çº¢ä¹‹ç³!', 'time': '2014', 'c01': 'èµ¤ç³'},
                {'name': 'æ¥è‡ªé£å¹³æµªé™çš„æ˜å¤©', 'time': '2013', 'c01': 'å‘äº•æˆ·çˆ±èŠ±'},
                {'name': 'é‚£æœµèŠ±', 'time': '2011', 'c01': 'æœ¬é—´èŠ½è¡£å­'},
            ],
            'filterAnimes': []
        },
        'watch': {
            'keyword': {
                immediate: 'true',
                handler(val) {
                    this.filterAnimes = this.animes.filter((p) => {
                        return p.name.indexOf(val) !== -1
                    })
                }
            },
            'sortType': {
                immediate: 'true',
                handler(val) {
                    console.log('>>>>')
                    this.filterAnimes = this.filterAnimes.sort((p1, p2) => {
                        if (this.sortType) {
                            return this.sortType === 1 ? p2.time - p1.time : p1.time - p2.time
                        }
                    })
                }
            }
        }
    })
</script>
</body>
</html>

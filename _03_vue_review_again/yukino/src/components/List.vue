<template>
  <div id="root">
    <h2 align="center">åŠ¨æ¼«åˆ—è¡¨</h2>

    <input class="search" type="text" name="keyword" v-model:value="keyword" placeholder="è¯·è¾“å…¥æ£€ç´¢å…³é”®å­—ğŸ˜¯ğŸ˜¯">
    <br>
    <div class="box_add_beauty">
      <div class="box_add">
        åŠ¨æ¼«åç§°:<input type="text" name="name" v-model="name">
        è§’è‰²:<input type="text" name="c1" v-model="c1">
        <button @click="add">æ·»åŠ </button>
      </div>
    </div>

    <div class="box01">
      <table>
        <tr>
          <th>åŠ¨æ¼«å</th>
          <th>è§’è‰²</th>
        </tr>
        <tr v-for="item in animeListF" :key="item.id">
          <td>{{ item.name }}</td>
          <td>{{ item.c1 }}</td>
        </tr>
      </table>
    </div>
  </div>
</template>

<script>
import {nanoid} from 'nanoid'

export default {

  name: "List",
  data() {
    return {
      'animeList': [
        {'id': 1001, 'name': 'æˆ‘çš„é’æ˜¥æ‹çˆ±ç‰©è¯­æœç„¶æœ‰é—®é¢˜', c1: 'é›ªä¹‹ä¸‹é›ªä¹ƒ'},
        {'id': 1002, 'name': 'å®åŠ›è‡³ä¸Šä¸»ä¹‰æ•™å®¤', c1: 'å €åŒ—é“ƒéŸ³'},
        {'id': 1003, 'name': 'å†°è“', c1: 'åƒåç”°çˆ±ç‘ '},
        {'id': 1004, 'name': 'é’æ˜¥çŒªå¤´å°‘å¹´', c1: 'æ¨±å²›éº»è¡£'},
        {'id': 1005, 'name': 'ç½‘ç»œèƒœåˆ©ç»„', c1: 'ç››å†ˆæ£®å­'},
      ],
      'keyword': '',
      'animeListF': [],
      'name': '',
      'c1': '',
    }
  },
  methods: {
    add() {
      if (this.name !== '' && this.c1 !== '') {
        var _id = nanoid()
        var item = {'id': _id, 'name': this.name, 'c1': this.c1}
        this.animeListF.push(item)
        this.animeList.push(item)
        console.log(item)
      }

    }
  },
  watch: {
    keyword: {
      immediate: true,
      handler(val) {
        this.animeListF = this.animeList.filter((item) => {
          return item.name.indexOf(val) !== -1
        })
      }
    }
  }
}
</script>

<style scoped>
li {
  list-style: none;
}

.box01 {
  width: 500px;
  height: 200px;
  margin: 50px auto;
}

table {
  margin: 100px auto;
  border: blue solid 3px;
  border-spacing: 0;
}

th, td {
  border: blue solid 3px;
}

.box_add_beauty{
  margin: 3px auto;
  width: 530px;
  height: 50px;
  background-color: orange;
  border-radius: 10px;
}

.box_add {
  position: relative;
  margin: 5px auto;
  width: 490px;
  height: 25px;
  top: 10px;
}

.search {
  display: block;
  width: 200px;
  height: 30px;
  margin: 10px auto;
  background-color: orange;
}
</style>
